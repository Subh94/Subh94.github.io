<html>
	<head>
		<meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" type="text/css" href="/blog/css/socialicious.css">
		<link rel="stylesheet" type="text/css" href="/blog/css/main.css">
		<link rel="stylesheet" type="text/css" href="/blog/css/monokai.css">
		<link href="/blog/rss.xml" rel="alternate" type="application/rss+xml" title="From Subhash Pen ....." />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Getting Start With NodeJs and Express - From Subhash Pen .....</title>
		<script type="text/javascript" src='/blog/js/highlight.pack.js'></script>
		<script type="text/javascript">hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		<div id='layout'>
			<div id='heading'>
				<div id='logo'><a href='http://skumaragarwal.com/blog'>Subhash Agarwal</a>
			</a></div>
			<div id='links'>
				<a href='https://github.com/Subh94' >
					<span class="icon-github" ></span>
				</a> |
				<a href='https://twitter.com/AgarwalSk091' class="icon-twitter"></a> |
				<a href='https://www.linkedin.com/in/subhashka/' class="icon-linkedin"></a>
			</div>


			<div style='clear: both'></div>
		</div>
		<div id='content'>
			
			<div id='side-bar'>
				<div id='user'>
					<img id="user-pic" src="https://www.skumaragarwal.com/blog/images/users/user.jpg" />
					<div id='user-name'>Subhash Agarwal</div>
				</div>
				<div id='date'>
					March 06, 2017
				</div>
				<br>
				<br>
				<div id='date'>
					Graduate from IIT Mandi in Computer Science & Engineering with Minor in Management, Tech Lover, Software Developer at Smartron Pvt Ltd,  love to write code and develop product to help society, Have slight Interest in Finance and Economics.
				</div>
				<div id='tags'>
					
						<div> <span class='tag node  js'>Node  Js</span> </div>
					
						<div> <span class='tag express'>Express</span> </div>
					
				</div>
			</div>
			<div id='page'>
				<h1 id='page-title'>Getting Start With NodeJs and Express</h1>
				<h2 id="introduction">Introduction</h2>

<p>In this first post about Node Js we will talk about how to start with Node using express module, which provide a easy way to start MVC based web application in minutes.</p>

<h2 id="installation">Installation</h2>
<p>This tutorial assume that you are running Ubuntu 16.04 and have ‘‘sudo’’ access on your system.</p>

<p>For Installing Distro stable version</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ sudo apt-get update
$ sudo apt-get install nodejs 
#For npm installation 
$ sudo apt-get install npm
</code></pre>
</div>

<p>This is sufficient for working on node.js and enough for now, if you want to try latest or unstable version then follow this link <a href="https://nodejs.org/en/download/package-manager/">Node js instalation by package manager</a></p>

<p>Now we will install Express-generator, which will be used to generate express skelton code for our app.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ npm install express-generator -g
</code></pre>
</div>

<p>Getting help for express</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ express -h

	Usage: express [options] [dir]

  	Options:

  	  -h, --help          output usage information
  	      --version       output the version number
  	  -e, --ejs           add ejs engine support
  	      --hbs           add handlebars engine support
  	      --pug           add pug engine support
  	  -H, --hogan         add hogan.js engine support
  	  -v, --view &lt;engine&gt; add view &lt;engine&gt; support (ejs|hbs|hjs|jade|pug|twig|vash) (defaults to jade)
  	  -c, --css &lt;engine&gt;  add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain 	css)	
  	      --git           add .gitignore
  	  -f, --force         force on non-empty directory
</code></pre>
</div>

<p>Now let’s cook some app with express, we are using ejs temple engine for this tutorial you can use some other one also like pug.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ express --view=ejs myapp
	create : myapp
	create : myapp/package.json
	create : myapp/app.js
	create : myapp/public
	create : myapp/public/javascripts
	create : myapp/public/images
	create : myapp/routes
	create : myapp/routes/index.js
	create : myapp/routes/users.js
	create : myapp/public/stylesheets
	create : myapp/public/stylesheets/style.css
	create : myapp/views
	create : myapp/views/index.ejs
	create : myapp/views/layout.ejs
	create : myapp/views/error.ejs
	create : myapp/bin
	create : myapp/bin/www
</code></pre>
</div>

<p>Now we will look what dependencies we have in package.json and install them:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myapp"</span><span class="p">,</span><span class="w">
</span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span><span class="w">
</span><span class="nt">"private"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
	</span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node ./bin/www"</span><span class="w">
	</span><span class="p">},</span><span class="w">
	</span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
	</span><span class="nt">"body-parser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~1.15.2"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"cookie-parser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~1.4.3"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"debug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~2.2.0"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"ejs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~2.5.2"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"express"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~4.14.0"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"morgan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~1.7.0"</span><span class="p">,</span><span class="w">
	</span><span class="nt">"serve-favicon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~2.3.0"</span><span class="w">
	</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Now Install them using:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cd myapp
$ npm install
</code></pre>
</div>

<p>Now to start application on MacOS or Linux, run:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ DEBUG=myapp:* npm start
</code></pre>
</div>

<p>and on Windows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt; set DEBUG=myapp:* &amp; npm start
</code></pre>
</div>

<p>Let’s see our app file tree and then we will move next</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.
├── app.js
├── bin
│   └── www
├── package.json
├── public
│   ├── images
│   ├── javascripts
│   └── stylesheets
│       └── style.css
├── routes
│   ├── index.js
│   └── users.js
└── views
    ├── error.ejs
    ├── index.ejs
    └── layout.ejs

7 directories, 9 files
</code></pre>
</div>

<p>In route folder our routes part is written and in views folder our views exists, similarly public folder contain public file like stylesheets, image and statcs file.</p>

<p>Now we will understand what and how routing file are used in application and how to extend them.</p>

<h2 id="understanding-routing">Understanding Routing</h2>
<p>Before understanding route file and content lets look how to add them in our application.</p>

<p>Let’s look for this code in app.js reside inq project root folder:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1 | var index = require('./routes/index');
2 | var users = require('./routes/users');
3 |
3 | app.use('/', index);
4 | app.use('/users', users);
</code></pre>
</div>

<p>if you look closely then in first two line we have made a variable from <strong>”./routes/index”</strong> and <strong>”./routes/users”</strong> module and then we are using later with respective router in this <strong>“app.use(‘/’, index)”</strong>  and <strong>“app.use(‘/users’, users)”</strong> line.</p>

<p>Let’s look some code in routes/index.js</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1 | var express = require('express');
2 | var router = express.Router();
3 | 
4 | /* GET home page. */
5 | router.get('/', function(req, res, next) {
6 |   res.render('index', { title: 'Express' });
7 | });
8 | 
9 | module.exports = router;
</code></pre>
</div>

<p>Let’s  consider this example, we  have used get method for root page or router and rendoring  a  template file with provided data in json format. We will check how to use this data into template file in view part.</p>

<h2 id="getting-view-part">Getting View part</h2>

<p>In above routing section, we checked how to write GET, POST, PUT method for routing and rendoring html file with some data,  now we will check here how to use this data in templates file to generate html file dynamically.</p>

<p>Note: This method depends on choice of view engine for node, and may defer from your choice but concept will nearly same. Here we are using ejs templates engine, which is based on javascript syntax with html. syntax for your choice can be found on your view engine home page.</p>

<p>First we will see how to include view engine in your main app.js located on root directory of your project.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');
</code></pre>
</div>
<p>here you can see, that how we have included view engine in app.js. You don’t have to setup this, if you have used given method to generate skelton code.</p>

<p>Now we will check index.ejs located in views folder</p>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="err">&lt;</span>%= title %&gt;<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">'stylesheet'</span> <span class="na">href=</span><span class="s">'/stylesheets/style.css'</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span><span class="err">&lt;</span>%= title %&gt;<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p&gt;</span>Welcome to <span class="err">&lt;</span>%= title %&gt;<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>Here you can spot &lt;%= title %&gt; in this code, this is variable title we have passed from get method as name title. in ejs you can specify variable using this &lt;%= your variable name %&gt;.</p>

<h2 id="finally">Finally</h2>

<p>now we will check how to run our site locally and how to access in web browser and in next part we will discuss more about writing routing using GET, POST and other method.</p>

<p>Now got to root folder of project and type</p>
<div class="highlighter-rouge"><pre class="highlight"><code>npm start 
</code></pre>
</div>

<p>Now point your browser to localhost:3000 or 127.0.0.1:3000 and you will see page like this.</p>

<p><img src="/blog/images/post/express-start.png" alt="Alt" /></p>

<h2 id="references">References</h2>
<p><strong>1.</strong> <a href="https://expressjs.com/en/starter/generator.html">https://expressjs.com/en/starter/generator.html</a></p>

				
				
				<div>
					 
    <!-- DISQUS COMMENT CODE -->
    <br><br>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'Subh94'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        console.log(dsq.src);
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <!-- DISQUS COMMENT CODE -->

				</div>
			</div>
			
			<div style='clear:both'></div>
		</div>
		<div id='footer'>
			Subhash Kumar Agarwal - 2017
		</div>
	</div>
	
	<!-- START GA CODE -->
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-97331837-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script>

	<!-- END GA CODE -->
</body>
</html>